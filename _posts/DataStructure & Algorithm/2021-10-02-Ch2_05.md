---
title: "C++ Algorithm Chapter2_5 í"
excerpt: "í"
categories:
  - Cpp Algorithm
tags:
  - Cpp
last_modified_at: 2021-10-02
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ Rookiss ë‹˜ì˜ ê°•ì˜ì¸ <b>[C++ê³¼ ì–¸ë¦¬ì–¼ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ] Part3: ìë£Œêµ¬ì¡°ì™€ ì•Œê³ ë¦¬ì¦˜</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### [Queue]
#### STL &lt;queue>
```cpp
#include <iostream>
#include <queue>
using namespace std;

int main()
{
    queue<int> q;

    for (int i = 0; i < 10; i++)
        q.push(i);

    while (q.empty() == false)
    {
        int value = q.front();
        q.pop();
        cout << value << " ";
    }

    int size = q.size();
}

// ì¶œë ¥
0 1 2 3 4 5 6 7 8 9
```
* Queue (FIFO First-In-First-Out ì„ ì…ì„ ì¶œ)
* front << [1][2][3][4] << rear(back)
    * ex) ëŒ€ê¸°ì—´

#### &lt;queue> êµ¬í˜„í•´ë³´ê¸°
##### list ë¥¼ ì´ìš©í•œ êµ¬í˜„
```cpp
template <typename T>
class ListQueue
{
public:
    void push(const T& value)
    {
        _container.push_back(value);
    }

    void pop()
    {
        _container.pop_front();
    }

    T& front()
    {
        return _container.front();
    }

    bool empty() { return _container.empty(); }
    int size() { return _container.size(); }

private:
    list<T> _container; 
};
```
* STL &lt;list> ë¥¼ ì´ìš©í•˜ì—¬ íë¥¼ êµ¬í˜„í•œë‹¤.
* list ëŠ” ì¤‘ê°„ ì‚½ì…, ì‚­ì œê°€ ë¹ ë¥´ë‹¤.
    * `void pop() {~}`
        * `_container.pop_front();` ì„ í†µí•´ ì‚­ì œê°€ ê°„í¸í•˜ë‹¤.

___

* ë°˜ëŒ€ë¡œ vector ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤.
    * vector ëŠ” `_container.pop_front();` ë¥¼ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— `_container.erase(_container.begin())` ì„ í†µí•´ ê°€ì¥ ì•ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•´ì•¼ í•œë‹¤.
        * í•˜ì§€ë§Œ vector ì—ì„œì˜ ì¤‘ê°„ ì‚­ì œëŠ” ë¹ ë¥´ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¹„íš¨ìœ¨ì ì´ë‹¤.

<pre>info notice:
ì‹¤ì œ STL ì˜ stack ê³¼ queue ëŠ” deque ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„ë˜ì–´ìˆë‹¤.</pre>{: .notice--warning}

___

##### ë°°ì—´ì„ ì´ìš©í•œ êµ¬í˜„
* ì¼ë°˜ ë°°ì—´ì„ ì´ìš©í•´ì„œ queue ì™€ ë™ì¼í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.
* í…Œí¬ë‹‰ì„ ê³µë¶€í•˜ëŠ” ì°¨ì›ì—ì„œ ì‚´í´ë³´ë„ë¡ í•œë‹¤.

```cpp
template <typename T>
class ArrayQueue
{
public:
    ArrayQueue()
    {
        //_container.resize(100);
    }

    void push(const T& value)
    {
        // TODO : ë‹¤ ì°¼ëŠ”ì§€ ì²´í¬
        if (_size == _container.size())
        {
            // ì¦ì„¤ ì‘ì—…
            int newSize = max(1, _size * 2);	
            vector<T> newData;
            newData.resize(newSize);

            // ë°ì´í„° ë³µì‚¬
            for (int i = 0; i < _size; i++)
            {
                int index = (_front + i) % _container.size();
                newData[i] = _container[index];
            }

            _container.swap(newData);
            _front = 0;
            _back = _size;
        }
        
        _container[_back] = value;
        _back = (_back + 1) % _container.size();	
        _size++;	
    }

    void pop()
    {
        // TODO : ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬
        _front = (_front + 1) % _container.size();
        _size--;
    }

    T& front()
    {
        // TODO : ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬
        return _container[_front];
    }

    bool empty() { return _size == 0; }
    int size() { return _size; }

private:
    vector<T> _container;

    int _front = 0;
    int _back = 0;
    int _size = 0;
};
```
* ì •ìƒì ìœ¼ë¡œ ì‘ë™í•œë‹¤.
* `int newSize = max(1, _size * 2);`
    * max : _size*2 ê°€ 0ì´ë¼ë„ ìµœì†Œ 1ì´ìƒì˜ ê°’ìœ¼ë¡œ ì„ íƒí•´ì¤Œ.
* `_back = (_back + 1) % _container.size();` 
    * _container ì˜ size ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì‚¬ìš©í•œë‹¤.
    * ìˆœí™˜ê³¼ ê°™ì€ êµ¬ì¡°ì—ì„œ ìœ ìš©í•˜ê²Œ ì“¸ ìˆ˜ ìˆëŠ” í…Œí¬ë‹‰ì´ë‹¤.

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}