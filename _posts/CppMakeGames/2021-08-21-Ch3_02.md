---
title: "C++ Games Chapter3_2 공 두 개를 충돌시켜보자"
excerpt: "공 두 개를 충돌시켜보자"
categories:
  - Cpp MakeGames
tags:
  - Cpp
last_modified_at: 2021-08-21
toc: true
toc_sticky: true
toc_label: "목차👀"
---

<pre>본 필기는 인프런의 홍정모 교수님의 강의인 <b>홍정모의 게임 만들기 연습 문제 패키지</b> 를 듣고 작성합니다.</pre>{: .notice--success}

### 공 두 개를 충돌시켜보자

#### 공 두개가 충돌했는지 판별
`3_2_1.png 사진 추가`
두 공의 중심 사이의 거리가 두 공의 반지름을 더한 것보다 작으면 두 공은 부딪혔다고 판별한다.
반대로 두 공의 중심 사이의 거리가 두 공의 반지름을 더한 것보다 크다면 두 공은 부딪히지 않았다고 판별한다.

`3_2_2.png 사진 추가`
두 개의 원이 충돌했다면 어떤 한 점에서 충돌을 할 것인데 이때 충돌 점에 접할 수 있는 평면의 수직방향 단위벡터를 노말벡터라 부른다.
이때 노말벡터의 방향이 다를 수 있는데 분홍공 물체 입장에서는 물체 바깥으로 향하는 벡터가 노말벡터이다.     
반대로 노란공 입장에서는 충돌지점이 같더라도 노말벡터의 방향이 반대가 될 것이다.    
n0 는 두 원의 중심을 이은 선 상에 존재하게 되는데 노말벡터의 절대 값은 1 이어야 하기 떄문에 |p1 - p0| 으로 나눠준다.

**상대속도**
`3_2_3.png 사진 추가`
같은 방향으로 동일한 속도로 가는 차 두대는 속도가 아무리 빠르더라도 상대속도는 거의 0 이기 때문에 부딪히더라도 충격을 심하게 받지 않는다.    
반대로 마주오는 차 두대가 부딪힌다면 두 대 각각의 속도가 크지 않더라도 상대속도가 크기때문에 더 크게 충격을 받는다.
따라서 1번 물체에서 본 0번 물체의 속도는 v0 - v1 으로 구할 수 있다.
`파이프 기호 | 는 읽을 때 v0 relative to 1 (1에 대한 상대적인 v0)이라 한다.`

앞 강의에서 수직방향 벽에 부딪힐때는 x 방향 속도에 -epsilon 을 곱했고, 바닥에 대해서 충돌할 때는 y 방향 속도에 -epsilon 을 곱했었다.    
이때는 벽이 수평이거나 수직이거나 했기 때문에 게산이 좀 더 편한 특별한 경우였다.
앞 강의에서 벽에 부딪힐 때도 반발 계수 식과 같은 식을 내부적으로 가정하고 있었다.

<pre>본 블로그는 개인 공부 기록의 목적을 가집니다. 포스트의 내용은 언제든지 바뀔 수 있습니다.</pre>{: .notice--info}