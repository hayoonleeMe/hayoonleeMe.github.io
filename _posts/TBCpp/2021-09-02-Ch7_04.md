---
title: "C++ Chapter7_4 í•¨ìˆ˜ í¬ì¸í„° Function Pointers, std::vector ë¥¼ ìŠ¤íƒ Stack ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°"
excerpt: "í•¨ìˆ˜ í¬ì¸í„°, std::vector ë¥¼ ìŠ¤íƒ Stack ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-02
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### í•¨ìˆ˜ í¬ì¸í„° Function Pointers
í•¨ìˆ˜ë„ í¬ì¸í„°ì´ë‹¤.    
í•¨ìˆ˜ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§€, ì–´ë–¤ ëª…ë ¹ë¬¸ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ”ì§€ê°€ ë©”ëª¨ë¦¬ì— ë“¤ì–´ì˜¨ë‹¤.    
í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ” ë©”ëª¨ë¦¬ì—ì„œ í”„ë¡œê·¸ë¨ì„ ê°€ì§€ê³ ì˜¨ë‹¤.    
ì´ë•Œ ëŒì•„ê°ˆ ì£¼ì†Œë„ ê°€ì§€ê³ ì˜¨ë‹¤.

ì¶”í›„ì— ë‹¤í˜•ì„±ì„ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤.

```cpp
int func(int x)
{
    return 5;
}

int goo(int)
{
    return 10;
}

int main()
{
    int(*fcnptr)(int) = func;	
    cout << fcnptr(1) << endl;
    fcnptr = goo;			
    cout << fcnptr(1) << endl;
    ...
}

// ì¶œë ¥
5
10
```
í•¨ìˆ˜ì˜ í¬ì¸í„°, í•¨ìˆ˜ì˜ ë¦¬í„´ê°’, íŒŒë¼ë¯¸í„°ë¥¼ ì¼ì¹˜ì‹œì¼œì•¼í•œë‹¤.    
int(*fcnptr)(int) : ë¦¬í„´í˜•, í¬ì¸í„°ì´ë¦„, íŒŒë¼ë¯¸í„° ë¦¬í„´í˜•    
ë˜í•œ, ê°€ë¥´í‚¤ëŠ” í•¨ìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

```cpp
bool isEven(const int &number)
{
    if (number % 2 == 0) return true;
    else return false;
}

bool isOdd(const int &number)
{
    if (number % 2 != 0) return true;
    else return false;
}

//typedef bool(*check_fcn_t)(const int &);
using check_fcn_t = bool(*)(const int &);

void printNumbers(const array<int, 10> &my_array, 
    //bool(*check_fcn)(const int&) = isEven) // ì•„ë˜ì™€ ë™ì¼
    std::function<bool(const int &)> check_fcn)
{
    for (auto element : my_array)
    {

        if (check_fcn(element) == true) cout << element << " ";
        /*if (!print_even && element % 2 == 1) cout << element << " ";*/
    }
    cout << endl;
}
``` 
```cpp
std::array<int, 10> my_array = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 }; // #include <array>
std::function<bool(const int &)> fcnptr = isEven; // #include <functional> C++11 
printNumbers(my_array, fcnptr);

fcnptr = isOdd;
printNumbers(my_array, fcnptr);

// ì¶œë ¥
0 2 4 6 8
1 3 5 7 9
```
ì¸ìë¡œ ë„˜ê²¨ì¤€ function ì— ë§ëŠ” ê°’ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

<br>

### std::vector ë¥¼ ìŠ¤íƒ Stack ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°
vector ë¥¼ ì˜ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” new ì™€ delete ë¥¼ ê°€ëŠ¥í•œ ì ê²Œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ë‹¤.

```cpp
std::vector<int> v{ 1, 2, 3 };	// size 3, capacity 3
v.resize(10);			// size 10, capacity 10
```
size ì™€ capacity ëª¨ë‘ 10ìœ¼ë¡œ resize ëœë‹¤.

```cpp
std::vector<int> v{ 1, 2, 3 };	// size 3, capacity 3
v.resize(2);    // size 2, capacity 3	
```
v[2]ê°€ ë‚¨ê¸° ë•Œë¬¸ì— ì—†ëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤.
<pre>info notice :
vector ëŠ” ì†ë„ë¥¼ ì¤‘ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆê¸° ë•Œë¬¸ì— (new ì™€ delete ì„ ì¤„ì´ë„ë¡) resize í•  ë•Œ 
ì´ì „ capacity ë³´ë‹¤ ë” ì‘ê²Œ resize í•˜ë©´ ë‚¨ëŠ” capacity ë§Œí¼ì„ delete í•˜ì§€ ì•Šê³  ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤.</pre>{: .notice--warning}

```cpp
std::vector<int> v{ 1, 2, 3 };	// size 3, capacity 3
v.reserve(1024);		
```
reserve : ë©”ëª¨ë¦¬ì˜ ìš©ëŸ‰ì„ ë¯¸ë¦¬ í™•ë³´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.    
ë¯¸ë¦¬ í™•ë³´í•´ë‘ë©´ ì›ì†Œê°€ ì¶”ê°€ë  ë•Œ í›¨ì”¬ ë¹ ë¥´ë‹¤.

```cpp
// for each ì´ì „ì— ì“°ë˜ ë°©ë²•.
for (unsigned int i = 0; i < v.size(); ++i)	
        cout << v[i] << " ";
cout << endl;
```
for each ì´ì „ì— ì“°ë˜ ë°©ë²•ì´ë‹¤.     

```cpp
for (auto &e : v)
    cout << e << " ";
cout << endl;

// ì¶œë ¥
1 2 3
```
ë™ì í• ë‹¹ ë°°ì—´ê³¼ëŠ” ë‹¤ë¥´ê²Œ vector ëŠ” for each ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```cpp
cout << v.size() << " " << v.capacity() << endl;

// ì¶œë ¥
3 1024
```
size() , capacity() í•¨ìˆ˜ë¥¼ í†µí•´ size ì™€ capacity ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.    
size ì™€ capacity ëŠ” ë‹¤ë¥´ë‹¤.

```cpp
std::vector<int> v{ 1, 2, 3 };
v.resize(2);    // size 2 , capacity 3

cout << v[2] << endl;       // runtime error
cout << v.at(2) << endl;    // throw exception
```
ì´ì „ì˜ ì˜ˆì‹œì—ì„œ ë´¤ë“¯ì´ capacity ë³´ë‹¤ ì‘ì€ size ë¥¼ ê°€ì§ˆ ê²½ìš°, ë‚¨ëŠ” capacity ì˜ ë°ì´í„°ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œëœë‹¤.    

ë©¤ë²„ ì—°ì‚°ì [] ë¥¼ í†µí•´ í•´ë‹¹ ìœ„ì¹˜ì˜ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.    
ì˜ëª»ëœ ë²”ìœ„ì˜ ìœ„ì¹˜ì— ì ‘ê·¼í•  ê²½ìš° ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

vector::at() í•¨ìˆ˜ëŠ” í•´ë‹¹ ìœ„ì¹˜ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.    
ë§Œì•½ í•´ë‹¹ vector ì˜ size ë¥¼ ë„˜ì–´ê°€ëŠ” ìœ„ì¹˜ì˜ ë°ì´í„°ë¥¼ êµ¬í•˜ë ¤í•˜ë©´ out_of_range exception ì„ ë˜ì§„ë‹¤.    
ë”°ë¼ì„œ ë””ë²„ê¹…ì„ í†µí•´ ì˜ˆì™¸ê°€ throw ëœ ê³³ì„ ì•Œ ìˆ˜ ìˆë‹¤.

```cpp
int *ptr = v.data();	
cout << ptr[2] << endl;		
```
ë‚¨ëŠ” capacity ë§Œí¼ì˜ ì›ì†Œë¥¼ ì–µì§€ë¡œ ì¶œë ¥í•˜ëŠ” ë°©ë²•ì´ë‹¤.
vector::data() ëŠ” ë²¡í„°ì˜ ì›ì†Œë“¤ì„ ë‹´ê³ ìˆëŠ” ë©”ëª¨ë¦¬ ë°°ì—´ì„ ê°€ë¥´í‚¤ëŠ” í¬ì¸í„°ë¥¼ ë°˜í™˜í•œë‹¤.    
ì¦‰, ë°°ì—´ì²˜ëŸ¼ ë©¤ë²„ ì—°ì‚°ì [] ë¥¼ í†µí•´ dereferencing í•˜ì—¬ ë‚´ë¶€ì˜ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

#### vector ë¥¼ ìŠ¤íƒì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°
```cpp
std::vector<int> stack;
stack.reserve(1024);	

stack.push_back(3);
printStack(stack);

stack.push_back(5);
printStack(stack);

stack.push_back(7);
printStack(stack);

stack.pop_back();
printStack(stack);

stack.pop_back();
printStack(stack);

stack.pop_back();
printStack(stack);

// ì¶œë ¥
3
3 5
3 5 7
3 5
3
```
vector ë¥¼ í†µí•´ stack ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤.
stack.reserve(1024); ë¥¼ í†µí•´ push_back í• ë•Œ capacity ë¥¼ ëŠ˜ë¦´ í•„ìš”ê°€ ì—†ê³  ê²°êµ­ new ì™€ delete ë¥¼ í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì´ ì¢‹ì•„ì§„ë‹¤.    
ë‹¨ì ì€ capacity ê°€ ë„ˆë¬´ í¬ë©´ ë©”ëª¨ë¦¬ê°€ ë‚­ë¹„ë  ìˆ˜ë„ ìˆë‹¤.    
ìš”ì¦˜ì»´í“¨í„°ëŠ” ê·¸ ì •ë„ë¡œ ë‚­ë¹„ê°€ ëœë‹¤ê³  ë³´ì§€ ì•ŠëŠ”ë‹¤.    
ë¬¼ë¡  ë¹…ë°ì´í„°ë‚˜ gpu ë“±ì—ì„œì˜ ì‚¬ìš©ì€ ì£¼ì˜í•´ì•¼ í•œë‹¤.

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}