---
title: "C++ Chapter9_12 ì´ë‹ˆì…œë¼ì´ì € ë¦¬ìŠ¤íŠ¸ std::initializer_list"
excerpt: "ì´ë‹ˆì…œë¼ì´ì € ë¦¬ìŠ¤íŠ¸ std::initializer_list"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-19
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### [ì´ë‹ˆì…œë¼ì´ì € ë¦¬ìŠ¤íŠ¸ std::initializer_list]
```cpp
#include <initializer_list> // for std::initializer_list
...

class IntArray
{
private:
	unsigned m_length = 0;
	int *m_data = nullptr;

public:
    IntArray(unsigned length = 0)
        : m_length(length)
    {
        m_data = new int[length];
    }

    IntArray(std::initializer_list<int> list)
        : IntArray(list.size())	
    {
        int count = 0;
        for (auto& element : list)
        {
            m_data[count] = element;
            ++count;
        }

        //for (unsigned count = 0; count < list.size(); ++count)
        //	m_data[count] = list[count];	// error
    }

    ~IntArray()
    {
        delete[] this->m_data;
    }

    IntArray& operator =(const IntArray &ia)
    {
        if (this == &ia)
            return *this;

        delete[] m_data;

        m_length = ia.m_length;

        if (ia.m_data != nullptr)
        {
            m_data = new int[m_length];
            for (unsigned i = 0; i < m_length; ++i)
                m_data[i] = ia.m_data[i];
        }
        else
            m_data = nullptr;

        return *this;
    }

    friend ostream& operator <<(ostream &out, const IntArray &arr)
    {
        for (unsigned i = 0; i < arr.m_length; ++i)
            out << arr.m_data[i] << " ";
        out << endl;
        return out;
    }
};
```
* `IntArray(const std::initializer_list<int> &list) : IntArray(list.size()) {~}` ë‹¤ë¥¸ ìƒì„±ìì—ì„œ m_data ì˜ ë©”ëª¨ë¦¬ë¥¼ ë°›ì•„ì˜¨ë‹¤. ê°€ê¸‰ì ì´ë©´ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ëŠ” ë¶„ë¦¬í•´ì„œ í•˜ë‚˜ë§Œ ì“°ì.
    * `for (auto& element : list) {~}` initializer_list ëŠ” ë‚´ë¶€ì˜ iterator ë¡œ for each ë¥¼ ëŒë¦°ë‹¤. ì´ëŠ” ì¶”í›„ì— std ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ë‹¤ì‹œ ë‹¤ë£¬ë‹¤.
        * initializer_list ëŠ” [] operator ê°€ ì—†ê¸° ë•Œë¬¸ì— `m_data[count] = list[count];` ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
    * ì°¸ê³ ë¡œ íŒŒë¼ë¯¸í„°ì—ì„œ initializer_list ë¥¼ const &ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.  std::string_view ì™€ ë§ˆì°¬ê°€ì§€ë¡œ std::initializer_listëŠ” ë§¤ìš° ê°€ë³ê³  ë³µì‚¬ë³¸ì´ ë³´ë‹¤ ë” ì €ë ´í•œ ê²½í–¥ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

#### ì‚¬ìš© ì˜ˆ
```cpp
// ê¸°ë³¸ ìë£Œí˜•ì˜ ë°°ì—´ ì´ˆê¸°í™”
int my_arr1[5]{ 1, 2, 3, 4, 5 };             
int* my_arr2 = new int[5]{ 1, 2, 3, 4, 5 };

auto il = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };    

//IntArray IA = il;	
//IntArray IA{ il };
IntArray IA(il);   
```
* `auto il = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };` il ì€ initializer_list í˜•ì„ ê°–ëŠ”ë‹¤.
* `IntArray IA = il;`, `IntArray IA{ il };`, `IntArray IA(il);` ì€ ëª¨ë‘ ê°™ì€ í‘œí˜„ì´ë‹¤.
    * IntArray(std::initializer_list<int>) constructor ê°€ ì‹¤í–‰ëœë‹¤.


```cpp
//IntArray int_array = { 1, 2, 3, 4, 5 }; 
IntArray int_array{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
cout << int_array << endl;

IntArray int_array2;
int_array2 = int_array;     // assignment operator
cout << int_array2 << endl;

// ì¶œë ¥
1 2 3 4 5 6 7 8 9 10

1 2 3 4 5 6 7 8 9 10
```
* `IntArray int_array = { 1, 2, 3, 4, 5 };`, `IntArray int_array{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };` ëŠ” ë™ì¼í•œ í‘œí˜„ì´ë‹¤.
    * IntArray(std::initializer_list<int>) constructor ê°€ ì‹¤í–‰ëœë‹¤.
    * IntArray(std::initializer_list<int>) constructor ì´ explicit ì¸ ê²½ìš° copy-list-initialization ì¸ `IntArray int_array = { 1, 2, 3, 4, 5 };` í•´ë‹¹ í‘œí˜„ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
    * IntArray(std::initializer_list<int>) constructor ì´ explicit ì¸ ê²½ìš° direct-list-initialization ì¸ `IntArray int_array{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };` í•´ë‹¹ í‘œí˜„ì€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
* IntArray(std::initializer_list<int>) constructor ê°€ ì‹¤í–‰ë˜ê³  ì¶œë ¥ê¹Œì§€ ë˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}