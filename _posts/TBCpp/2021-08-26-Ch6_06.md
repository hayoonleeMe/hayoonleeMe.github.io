---
title: "C++ Chapter6_6 λ™μ  ν• λ‹Ή λ°°μ—΄ Dynamically Allocating Arrays, ν¬μΈν„°μ™€ const"
excerpt: "λ™μ  ν• λ‹Ή λ°°μ—΄, ν¬μΈν„°μ™€ const"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-08-26
toc: true
toc_sticky: true
toc_label: "λ©μ°¨π‘€"
---

<pre>λ³Έ ν•„κΈ°λ” μΈν”„λ°μ ν™μ •λ¨ κµμλ‹μ κ°•μμΈ <b>ν™μ •λ¨μ λ”°λΌν•λ©° λ°°μ°λ” C++</b> λ¥Ό λ“£κ³  μ‘μ„±ν•©λ‹λ‹¤.</pre>{: .notice--success}

### λ™μ  ν• λ‹Ή λ°°μ—΄ Dynamically Allocating Arrays
```cpp
int length;
cin >> length;

int *array = new int[length]();	// λ¨λ“  μ›μ†λ¥Ό 0μΌλ΅ μ΄κΈ°ν™”ν•λ” λ°©λ²• : ()μ„ μ¨μ¤€λ‹¤.

array[0] = 1;
array[1] = 2;

for (int i = 0; i < length; ++i)
{
    cout << (uintptr_t)&array[i] << endl;
    cout << array[i] << endl;
}

delete[] array;	
```
λ°°μ—΄μ ν¬κΈ°κ°€ μ»΄νμΌ νƒ€μ„μ— κ²°μ •λμ–΄μ•Ό ν•λ” μ •μ  λ°°μ—΄μ— λΉ„ν•΄ λ™μ  ν• λ‹Ή λ°°μ—΄μ€ λ°νƒ€μ„μ— λ°°μ—΄μ ν¬κΈ°λ¥Ό κ²°μ •ν•κ³  κ·Έλ•κ·Έλ• λ©”λ¨λ¦¬λ¥Ό λ°›μ•„μ¤κΈ° λ•λ¬Έμ— μ λ™μ μΌλ΅ μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤.    

new λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬λ¥Ό λ°›μ•„μ¤λ©΄ λ°λ“μ‹ μμ„ μ΄λ£¨λ” delete λ΅ λ°λ‚©ν•΄μ•Όν•λ‹¤.    
μ΄λ• ν•λ‚μ λ³€μκ°€ μ•„λ‹ μ—¬λ¬ κ°μ λ³€μλ¥Ό λ‹¤λ£¨λ” λ°°μ—΄μ΄λ―€λ΅ [] μ„ μ¨μ¤€λ‹¤.

#### λ°°μ—΄ μ΄κΈ°ν™”
direct initialization μ€ ()μΌλ΅λ§ μ΄κΈ°ν™” κ°€λ¥ν•κ³  (0μΌλ΅ μ΄κΈ°ν™”) ()λ‚΄λ¶€μ— λ‹¤λ¥Έ μλ” λ„£μ„ μ μ—†λ‹¤.    
uniform initialization μ€ {}μΌλ΅ μ΄κΈ°ν™” κ°€λ¥ν•κ³  (0μΌλ΅ μ΄κΈ°ν™”) int *array = new int[length]{ 1, 2, 3, 4 ,5 }; μ™€ κ°™μ΄ μ§μ ‘ μ§€μ •ν•μ—¬ μ΄κΈ°ν™”κ°€ κ°€λ¥ν•λ‹¤.     
ν•μ§€λ§ μ§€μ •ν• μ›μ†μ κ°μλ³΄λ‹¤ μ‘μ€ ν¬κΈ°λ΅ λ°°μ—΄μ΄ μƒμ„±λ  κ²½μ° μ—λ¬κ°€ λ‚λ‹¤.    

<pre>info notice :
int *array = new int[length]();
λ™μ ν• λ‹Ή λ°°μ—΄μ λ¨λ“  μ›μ†λ¥Ό 0μΌλ΅ μ΄κΈ°ν™”ν•λ” λ°©λ²• : () μ„ μ¨μ¤€λ‹¤.</pre>{: .notice--warning}
<br>

```cpp
int* array = new int[3]{ 1, 2, 3, 4, 5 };	// compile-error

delete[] array;
```
μ΄κΈ°ν™”ν• κ°μλ³΄λ‹¤ μ μ€ ν¬κΈ°λ¥Ό κ°€μ§ κ²½μ° μ¤λ¥κ°€ λ°μƒν•λ‹¤.

<pre>info notice :
int* array = new int[]{ 1, 2, 3, 4, 5 };
ν•΄λ‹Ή μ½”λ“λ” VS 2017 μ—μ„λ” compile-error κ°€ λ°μƒν•μ§€λ§ VS 2019 μ—μ„λ” μ •μƒμ μΌλ΅ μ‘λ™λλ‹¤.</pre>{: .notice--warning}

#### resizing
μ§μ ‘μ μΌλ΅ λ¶κ°€ν•λ‹¤.    
λ” ν° λ°°μ—΄μ„ λ™μ ν• λ‹Ήν•κ³  κΈ°μ΅΄μ λ°°μ—΄μ„ λ³µμ‚¬ν• ν›„ λ‚λ¨Έμ§€ ν•„μ”ν• λ¶€λ¶„μ„ μ¶”κ°€ν•λ” λ°©μ‹μΌλ΅ resizing ν•  μ μλ‹¤.    
μ¶”ν›„μ— vector λ¥Ό μ‚¬μ©ν•΄ ν•΄κ²°ν•  μ μλ‹¤.


### ν¬μΈν„°μ™€ const
```cpp
const int value = 5;	
const int* ptr = &value;
*ptr = 6;       // compile-error	
```
const νƒ€μ…μ λ³€μμ μ£Όμ†λ¥Ό ν¬μΈν„°λ΅ λ°›μ„ λ• ν¬μΈν„°λ„ const λ΅ λ°›μ•„μ•Όν•λ‹¤.    
ν•μ§€λ§ const μ΄λ―€λ΅ μ—­μ°Έμ΅°λ” λ¶κ°€ν•λ‹¤.

```cpp
int value = 5;
const int* ptr = &value;
//*ptr = 6;   // compile-error
value = 6;	
```
const νƒ€μ…μ ν¬μΈν„°μ΄λ―€λ΅ μ—­μ°Έμ΅°λ” λ¶κ°€ν•μ§€λ§ value λ” const κ°€ μ•„λ‹λ―€λ΅ κ°’μ„ λ³€κ²½ν•  μ μλ‹¤.    
κ²°κµ­ *ptr λ„ 6μ΄ λλ‹¤.

```cpp
int value1 = 5;
const int* ptr = &value1; 	
//*ptr = 7;     // compile-error
int value2 = 6;
ptr = &value2;				
```
const νƒ€μ…μ ν¬μΈν„°λ” ν¬μΈν„°κ°€ μ €μ¥ν•λ” μ£Όμ†μ κ°’μ„ λ³€κ²½ν•μ§€ μ•κ² λ‹¤λ” κ²ƒμ΄ μ•„λ‹, ν¬μΈν„°κ°€ μ €μ¥ν•λ” μ£Όμ†μ— ν•΄λ‹Ήν•λ” κ°’μ„ λ³€κ²½ν•μ§€ μ•κ² λ‹¤λ” λ»μ΄λ‹¤.
λ”°λΌμ„ ν¬μΈν„°κ°€ μ €μ¥ν•λ” μ£Όμ†λ¥Ό λ³€κ²½ν•  μ μλ‹¤.

```cpp
int value = 5;
int *const ptr = &value;	
*ptr = 10;					

int value2 = 8;
//ptr = &value2;      // compile-error
```
μ„μ μμ‹μ™€ λ°λ€λ΅ \* λ’¤μ— const κ°€ μλ” ν¬μΈν„°λ” μ—­μ°Έμ΅°λ” κ°€λ¥ν•μ§€λ§ ν¬μΈν„°κ°€ μ €μ¥ν•λ” μ£Όμ†μ λ³€κ²½μ΄ λ¶κ°€ν•λ‹¤.

```cpp
int value = 5;
const int *ptr1 = &value;
int *const ptr2 = &value;
const int *const ptr3 = &value;	
```
ptr3 λ” μ—­μ°Έμ΅°μ™€ ν¬μΈν„°κ°€ μ €μ¥ν•λ” μ£Όμ†μ κ°’ λ¨λ‘ λ³€κ²½ν•  μ μ—†λ” ν¬μΈν„°μ΄λ‹¤.

<pre>λ³Έ λΈ”λ΅κ·Έλ” κ°μΈ κ³µλ¶€ κΈ°λ΅μ λ©μ μ„ κ°€μ§‘λ‹λ‹¤. ν¬μ¤νΈμ λ‚΄μ©μ€ μ–Έμ λ“ μ§€ λ°”λ€” μ μμµλ‹λ‹¤.</pre>{: .notice--info}