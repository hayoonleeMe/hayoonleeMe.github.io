---
title: "C++ Chapter8_6 í´ë˜ìŠ¤ Class ì™€ const"
excerpt: "í´ë˜ìŠ¤ì™€ const"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-12
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### í´ë˜ìŠ¤ Class ì™€ const
```cpp
class Something
{
public:
    int m_value = 0;

    Something(const Something& st_in)   // Copy Constructor ... ì„ì˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    {
        m_value = st_in.m_value;
        
        cout << "Copy Constructor" << endl;
    }
    Something()
    {
        cout << "Constructor" << endl;
    }
    void setValue(int value) { m_value = value; }
    int getValue() const    // member function ì„ const ë¡œ ë§Œë“œëŠ” ë°©ë²•.
    {                       // ì´ í•¨ìˆ˜ì—ì„œ ë©¤ë²„ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ì§€ ì•ŠëŠ”ë‹¤ëŠ”ê²ƒì„ ëª…í™•íˆ í•˜ëŠ” ë°©ë²•.
        //m_value += 1;	    // ë‹¹ì—°íˆ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
        return m_value; 
    }
};

int main()
{
    const Something something;	
    //something.setValue(3);	// compile-error
    cout << something.getValue() << endl;	
    ...
}

// ì¶œë ¥
Constructor
0
```
í´ë˜ìŠ¤ë„ const ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.    
ì´ëŠ” ë©¤ë²„ ë³€ìˆ˜ë¥¼ const ë¡œ ë³€ê²½í•œ ê²ƒê³¼ ê°™ë‹¤.    
getValue() ê°€ const member function ì´ë¯€ë¡œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

ë³µì¡í•œ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ìˆ˜ë¡ const ë¡œ ë§‰ì„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë“¤ì€ ëª¨ë‘ const ë¡œ ë§‰ëŠ” ê²ƒì´ ì¢‹ë‹¤.    
ë…¼ë¦¬ì˜¤ë¥˜, ì‹¤ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê³  ë””ë²„ê¹…ì— ìœ ë¦¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

#### í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ í´ë˜ìŠ¤ë¥¼ ë°›ì„ ë•Œ
##### argument ê°€ íŒŒë¼ë¯¸í„°ë¡œ ë³µì‚¬ë˜ëŠ” ê²½ìš°
```cpp
void print(Something st)	
{
    cout << &st << endl;
    cout << st.m_value << endl;
}

int main()
{
    Something something;
    cout << &something << endl;
    print(something);
    ...
}

// ì¶œë ¥
Constructor
00BDFB88
Copy Constructor
00BDFB84
0
```
í˜¸ì¶œë  ë•Œì˜ ì¸ìê°€ st ë¡œ ë³µì‚¬ë˜ë¯€ë¡œ Copy Constructor ê°€ ì‹¤í–‰ëœë‹¤.

í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ print() ì— ì¸ìë¡œ ë„˜ê²¨ì¤¬ì„ ë•Œ main() ì˜ something ì´ print() ì˜ ì¸ìŠ¤í„´ìŠ¤ st ë¡œ ë³µì‚¬ê°€ ë˜ëŠ”ë° (something ê³¼ st ì˜ ì£¼ì†Œê°€ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤),    
ì´ë•Œ ìƒì„±ìê°€ í•œë²ˆë§Œ ì¶œë ¥ë˜ëŠ” ì´ìœ ëŠ” ë‚´ë¶€ì—ì„œ ìë™ì ìœ¼ë¡œ Copy Constructor ê°€ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì´ë‹¤.     
ì„ì˜ë¡œ ë§Œë“  Copy Constructor ë¥¼ ë§Œë“¤ë©´ ê·¸ê²ƒì´ í˜¸ì¶œëœë‹¤.

##### íŒŒë¼ë¯¸í„°ë¡œ reference ë¥¼ ì‚¬ìš©í•  ê²½ìš°
```cpp
void print(const Something& st)	// ë ˆí¼ëŸ°ìŠ¤ ì‚¬ìš©
{
    cout << &st << endl;
    cout << st.m_value << endl;
}

int main()
{
    Something something;
    cout << &something << endl;
    print(something);
    ...
}

// ì¶œë ¥
Constructor
00E3FCE8
00E3FCE8
0
```
í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¥¼ const ë ˆí¼ëŸ°ìŠ¤ë¡œ ë°›ê²Œë˜ë©´ ë³µì‚¬ë¥¼ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— íš¨ìœ¨ì„±ì´ ì¢‹ë‹¤.     
ì´ëŠ” ìµœì í™”ì— ë„ì›€ì´ ëœë‹¤.


#### const ìœ ë¬´ë¡œ í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©í•˜ê¸°
```cpp
class Something2
{
public:
    string m_value = "default";

    const string& getValue() const // ë³´í†µ functionì„ constë¡œ ë§Œë“¤ë•ŒëŠ” ë¦¬í„´ê°’ë„ constë¡œ ë§Œë“ ë‹¤.
    {
        cout << "const version" << endl;
        return m_value; 
    }

    string& getValue() 
    { 
        cout << "non-const version" << endl;
        return m_value; 
    }
};

int main()
{
    Something2 something1;		    // non-const ì´ë¯€ë¡œ ê°’ ë³€ê²½ ê°€ëŠ¥.
    something1.getValue() = "something1";
    cout << something1.m_value << endl;

    const Something2 something2;	    // const ì´ë¯€ë¡œ ê°’ ë³€ê²½ ë¶ˆê°€.
    something2.getValue(); /*= "something2"; compile-error*/
    cout << something2.m_value << endl;
    ...
}

// ì¶œë ¥
non-const version
something1
const version
default
```
ê¸°ì¡´ì—ëŠ” ê°™ì€ ì´ë¦„ì˜ í•¨ìˆ˜ë“¤ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë‹¤ë¥´ê²Œí•´ì„œ ì˜¤ë²„ë¡œë”©í–ˆëŠ”ë° const ë¥¼ ì´ìš©í•´ì„œ ì´ë¦„ì€ ê°™ì§€ë§Œ íŒŒë¼ë¯¸í„°ì™€ëŠ” ë¬´ê´€í•˜ê²Œ ì˜¤ë²„ë¡œë”©ì´ ê°€ëŠ¥í•˜ë‹¤.    
ì˜ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì§€ë§Œ ë‹¤ë¥¸ ê°œë°œìì˜ ì½”ë“œë¥¼ ì´í•´í•˜ê¸°ì—ë„ í•„ìš”í•˜ë‹¤.

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}