---
title: "C++ Chapter6_7 ì°¸ì¡° ë³€ìˆ˜ Reference Variable"
excerpt: "ì°¸ì¡° ë³€ìˆ˜ Reference Variable"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-08-26
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### ì°¸ì¡° ë³€ìˆ˜ Reference Variable
ì°¸ì¡°ëŠ” ë³„ëª…ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```cpp
int value = 5;

int *ptr = nullptr;	  
ptr = &value;

int &ref = value;		
```
ref ê°€ value ì™€ ê°™ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ë™í•œë‹¤.    

```cpp
cout << ref << endl;
ref = 10;     // *ptr = 10;
cout << value << " " << ref << endl;

cout << &value << endl;	
cout << &ref << endl;   // value ì˜ ì£¼ì†Œë¥¼ ê³µìœ í•¨.
cout << ptr << endl;    // value ì˜ ì£¼ì†Œë¥¼ ì €ì¥í•˜ê³  ìˆìŒ.
cout << &ptr << endl;   // í¬ì¸í„° ë³€ìˆ˜ì˜ ì£¼ì†Œ.

// ì¶œë ¥
5
10 10
0099FB48
0099FB48
0099FB48
0099FB3C
```

#### ì£¼ì˜ì‚¬í•­
```cpp
int x = 5;

int &ref;   // compile-error
int &ref = x;
```
ì°¸ì¡°ëŠ” ë°˜ë“œì‹œ ë³€ìˆ˜ë¡œ ì´ˆê¸°í™”í•´ì•¼í•œë‹¤.    
ë¦¬í„°ëŸ´ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°–ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¦¬í„°ëŸ´ë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ë‹¤.

```cpp
const int y = 8;
int &ref = y;	  // compile-error
```
ref ì—ì„œ const ì¸ y ë¥¼ ë°”ê¿€ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ëŸ¬ê°€ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

```cpp
const int y = 8;
const int &ref = y;	
```
y ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” const íƒ€ì…ì˜ ì°¸ì¡°ëŠ” ê°€ëŠ¥í•˜ë‹¤.

```cpp
int value1 = 5;
int value2 = 10;

int &ref1 = value1;
cout << ref1 << endl;
ref1 = value2;		
cout << value2 << " " << value1 << " " <<  ref1 << endl;

// ì¶œë ¥
5
10 10 10
```
ì°¸ì¡°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.    
ref1 = value2; ì€ ì°¸ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ value2 ì˜ ê°’ì„ ëŒ€ì…í•˜ëŠ” ê²ƒì´ë‹¤.    
ë”°ë¼ì„œ ref1 ì€ ì—¬ì „íˆ value1 ì„ ì°¸ì¡°í•œë‹¤.

#### íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©
```cpp
void doSomething(int n)	{}
```
main ì˜ n ê³¼ëŠ” ë‹¤ë¥¸ ë³€ìˆ˜ì´ë‹¤.     
ë”°ë¼ì„œ main ì˜ n ê°’ì„ ë³€ê²½ì‹œí‚¤ì§€ ëª»í•œë‹¤.

```cpp
void doSomething(int &n)	
```
main ì˜ n ê³¼ ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•˜ëŠ” ì°¸ì¡°ì´ë¯€ë¡œ main ì˜ n ê°’ì„ ë³€ê²½ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```cpp
void doSomething(const int &n)	
```
ë„˜ê¸°ëŠ” ë³€ìˆ˜ì˜ ë³€ê²½ì„ ë°©ì§€í•˜ëŠ” ì½”ë“œì´ë‹¤.

```cpp
void doSomething(int &n)
{
  cout << &n << endl;	// mainì˜ nê³¼ ì£¼ì†Œê°’ì´ ê°™ë‹¤.

  n = 10;
  cout << "In doSomething " << n << endl;
}

int main()
{
  int n = 5;
  cout << n << endl;
  cout << &n << endl;

  doSomething(n);
  cout << n << endl;
  ...
}

// ì¶œë ¥
5
00D5F794
00D5F794
In doSomething 10
10
```
í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” main ì—ì„œ ë„˜ê²¨ì¤€ ë³€ìˆ˜ì˜ ì£¼ì†Œì™€ ë§¤ê°œë³€ìˆ˜ì¸ í¬ì¸í„°ê°€ ì €ì¥í•˜ëŠ” ì£¼ì†ŒëŠ” ê°™ì•˜ì§€ë§Œ í¬ì¸í„° ë³€ìˆ˜ ìì²´ì˜ ì£¼ì†ŒëŠ” ë³„ê°œë¡œ ë‹¬ëë‹¤.    
ê·¸ì™€ ë‹¬ë¦¬ ë§¤ê°œë³€ìˆ˜ë¡œ ì°¸ì¡°ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš° main ì—ì„œ ë„˜ê²¨ì¤€ ë³€ìˆ˜ì˜ ì£¼ì†Œì™€ ì°¸ì¡°ë³€ìˆ˜ì˜ ì£¼ì†ŒëŠ” ê°™ë‹¤.

ë§¤ê°œë³€ìˆ˜ë¡œ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë„˜ê²¨ë°›ëŠ” ë³€ìˆ˜ìì²´ë¥¼ ë³µì‚¬ë¥¼ í•´ì•¼í•˜ì§€ë§Œ,    
ë ˆí¼ëŸ°ìŠ¤ë¡œ ë°›ê²Œë˜ë©´ ë³€ìˆ˜ ìì²´ë¥¼ ë„˜ê¸°ëŠ” ê²ƒê³¼ ê°™ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì„±ì´ ë” ë†’ë‹¤.

#### ë°°ì—´ì„ í•¨ìˆ˜ë¡œ ë„˜ê²¨ì¤„ ë•Œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
```cpp
void printElements(int(&arr)[5])    // ì›ì†Œì˜ ê°œìˆ˜ë¥¼ ë°˜ë“œì‹œ []ì•ˆì— ë„£ì–´ì¤˜ì•¼í•œë‹¤.
{
  cout << "in function" << endl;
  for (int i = 0; i < 5; ++i)
  {
    arr[i] = 5 - i;
    cout << arr[i] << " ";
  }
    cout << endl;
} 

int main()
{
  const int length = 5;
  int arr[length] = { 1, 2, 3, 4, 5 };

  printElements(arr);

  cout << "in main" << endl;
  for (int i = 0; i < length; ++i)
    cout << arr[i] << " ";
  cout << endl;

  ...
}

// ì¶œë ¥
in function
5 4 3 2 1
in main
5 4 3 2 1
```
í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì— ì£¼ì˜í•˜ì—¬ ì‘ì„±í•´ì•¼í•œë‹¤.

#### êµ¬ì¡°ì²´ì—ì„œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
```cpp
struct Something
{
  int v1;
  float v2;
};

struct Other
{
  Something st;
};

int main()
{
  Other ot;
  ot.st.v1 = 1.0;	
}
```
Other ë‚´ë¶€ì— ìˆëŠ” Something ì˜ ë©¤ë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.    
ì´ë¦„ì´ ê¸¸ê³  ë‚´ë¶€ë¡œ ë§ì´ ë“¤ì–´ê°€ê²Œ ë˜ë©´ íƒ€ì´í•‘ë„ í˜ë“¤ê³  ì™¸ìš°ê³  ì“°ê¸°ë„ í˜ë“¤ê³  ëŠë ¤ì§„ë‹¤.

**better code**
```cpp
...
int main()
{
  int &v1 = ot.st.v1;	
  v1 = 1;			
  ...
}
```
ì•„ì£¼ ê°„ë‹¨í•œê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.    
íš¨ìœ¨, ì†ë„ê°€ ë–¨ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤.    
ì´ë•Œ ë ˆí¼ëŸ°ìŠ¤ ë³€ìˆ˜ì˜ ìë£Œí˜•ì— ì£¼ì˜í•˜ì.

#### í¬ì¸í„°ì™€ í‘œí˜„ ë¹„êµ
```cpp
int value = 5;
int value2 = 10;
int *const ptr = &value;  // ê¸°ëŠ¥ìƒ ì•„ë˜ì™€ ë™ì¼í•œ í‘œí˜„
int &ref = value;         // ì°¸ì¡° ë³€ê²½ ë¶ˆê°€.

*ptr = 10;                // ê¸°ëŠ¥ìƒ ì•„ë˜ì™€ ë™ì¼í•œ í‘œí˜„
ref = 10;
```
int *const ptr ëŠ” ì €ì¥í•˜ëŠ” ì£¼ì†Œë¥¼ ë³€ê²½ì‹œí‚¬ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì°¸ì¡°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” int &ref ì™€ ê¸°ëŠ¥ìƒ ë™ì¼í•˜ë‹¤.

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}