---
title: "C++ Chapter8_3 ìœ„ì„ ìƒì„±ì Delegating Constructors C++ 11, ì†Œë©¸ì Destructor"
excerpt: "ìœ„ì„ ìƒì„±ì C++ 11, ì†Œë©¸ì"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-04
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### ìœ„ì„ ìƒì„±ì Delegating Constructors C++ 11
```cpp
class Student
{
private:
    int		m_id;
    string	m_name;

public:
    Student(const string& name_in)
        : Student(0, name_in)   // ìœ„ì„ ìƒì„±ì	
    { }

    Student(const int& id_in, const string& name_in)
    	: m_id(id_in), m_name(name_in)
    { }

    void print()
    {
        cout << m_id << " " << m_name << endl;
    }
};
```
ìœ„ì„ ìƒì„±ìë¥¼ í†µí•´ ìƒì„±ìì—ì„œ ë‹¤ë¥¸ ìƒì„±ìë¥¼ ê°€ì ¸ë‹¤ ì“¸ ìˆ˜ ìˆë‹¤.    
ìœ„ì„ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë©¤ë²„ ì´ë‹ˆì…œë¼ì´ì € ë¦¬ìŠ¤íŠ¸ì—ì„œ ìƒì„±ìë¥¼ í˜¸ì¶œí•œë‹¤.

#### í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°
```cpp
class Student
{
private:
    int		m_id;
    string	m_name;

public:
    Student(const string& name_in)
    {
        init(0, name_in);
    }

    Student(const int& id_in, const string& name_in)
    {
        init(id_in, name_in);
    }

    // ë§ŒëŠ¥ ì´ˆê¸°í™”í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ìƒì„±ìì—ì„œ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•œë‹¤.
    void init(const int& id_in, const string& name_in)	
    {
        m_id = id_in;
        m_name = name_in;
    }

    void print()
    {
        cout << m_id << " " << m_name << endl;
    }
};

int main() 
{
    Student st1(0, "Jack Jack");
    st1.print();

    Student st2("Dash");
    st2.print();

    return 0;
}

// ì¶œë ¥
0 Jack Jack
0 Dash
```
í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±ìì—ì„œ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

í•˜ì§€ë§Œ í•´ë‹¹ í•¨ìˆ˜ê°€ ì´ˆê¸°í™”ë¥¼ í•œë‹¤ê³ ëŠ” ë§í•  ìˆ˜ ì—†ë‹¤.    
ìƒì„±ìì—ì„œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì— ì´ë¯¸ ë©¤ë²„ ë°ì´í„°ëŠ” ì„ ì–¸ë˜ê³  ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ê¸° ë•Œë¬¸ì— ì—„ë°€íˆ ë§í•˜ë©´ ì´ë¯¸ ìƒì„±ëœ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.    
ê·¸ë ‡ê¸° ë•Œë¬¸ì— const ë‚˜ reference ì™€ ê°™ì´ ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™”ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

<br>

### ì†Œë©¸ì Destructor
```cpp
class Simple
{
private:
    int m_id;

public:
    Simple(const int& id_in)
        : m_id(id_in)
    {
        cout << "Constructor " << m_id << endl;
    }

    ~Simple()
    {
        cout << "Destructor " << m_id << endl;
    }
};

int main()
{
    Simple s1(0);

    return 0;
}

// ì¶œë ¥
Constructor 0
Destructor 0
```
ì†Œë©¸ì destructor ëŠ” í´ë˜ìŠ¤ì˜ instance ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ë•Œ ë‚´ë¶€ì—ì„œ ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.

```cpp
int main()
{
    Simple *s1 = new Simple(0);
	Simple s2(1);
	delete s1;
    
    return 0;
}

// ì¶œë ¥
Constructor 0
Constructor 1
Destructor 0
Destructor 1
```
instance ê°€ ë™ì í• ë‹¹ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê²½ìš°ì—ëŠ” ì˜ì—­ì„ ë²—ì–´ë‚˜ë„ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— delete ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•  ë•Œì—ë§Œ ì†Œë©¸ìê°€ í˜¸ì¶œë©ë‹ˆë‹¤.    

ì†Œë©¸ìë¥¼ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

<pre>info notice :
ì •ì í• ë‹¹ìœ¼ë¡œ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  ê²½ìš°ì—ëŠ” ë©”ëª¨ë¦¬ê°€ Stack ì— ì˜¬ë¼ê°€ê³  
ë™ì í• ë‹¹ìœ¼ë¡œ ë§Œë“  ê²½ìš°ì—ëŠ” ë©”ëª¨ë¦¬ê°€ Heap ì— ì˜¬ë¼ê°„ë‹¤.</pre>{: .notice--warning}

```cpp
class IntArray
{
private:
    int *m_arr = nullptr;	// vector 
    int m_length = 0;

public:
    IntArray(const int length_in)
    {
        m_length = length_in;
        m_arr = new int[m_length];

        //cout << "Constructor " << endl;
    }

    ~IntArray()
    {
        if(m_arr != nullptr) 
            delete[] m_arr;

        //cout << "Destructor" << endl;
    }

    int size() { return m_length; }
};

int main()
{
    while (true)
	{
		IntArray my_int_arr(10000);
	}

    return 0;
}
```
ìœ„ì˜ ì˜ˆì‹œê°€ ì‹¤í–‰ëœë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ê³¼ ì‚­ì œê°€ ë¬´í•œë°˜ë³µëœë‹¤.

ë§Œì•½ í´ë˜ìŠ¤ê°€ ë™ì í• ë‹¹ëœ ë°ì´í„°ë¥¼ ë©¤ë²„ ë°ì´í„°ë¡œ ê°€ì§ˆ ê²½ìš°ì—” ì†Œë©¸ì í˜¸ì¶œì‹œì— í•´ë‹¹ ë©¤ë²„ ë°ì´í„°ë¥¼ delete í•´ì¤˜ì•¼ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. 

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}