---
title: "C++ Chapter10_2 êµ¬ì„± ê´€ê³„ Composition"
excerpt: "êµ¬ì„± ê´€ê³„ Composition"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-20
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### [êµ¬ì„± ê´€ê³„ Composition]
#### ë©¤ë²„ Position2D í´ë˜ìŠ¤
```cpp
// in Position2D.h

#include <iostream>

class Position2D
{
private:
    int m_x;
    int m_y;

public:
    Position2D(const int &x_in, const int &y_in)
        : m_x(x_in), m_y(y_in)
    {}

    void set(const Position2D &pos_target)
    {
        set(pos_target.m_x, pos_target.m_y);	// set ì¬í™œìš©
    }

    void set(const int &x_target, const int &y_target)
    {
        m_x = x_target;
        m_y = y_target;
    }

    friend std::ostream & operator << (std::ostream &out, const Position2D &pos2d)
    {
        out << " " << pos2d.m_x << " " << pos2d.m_y;
        return out;
    }
};
```

___
<br>

#### ê´€ê³„ì˜ ì£¼ì²´ Monster í´ë˜ìŠ¤
```cpp
// in Monster.h

#include <string>
#include "Position2D.h"

class Monster
{
private:
    std::string m_name;	
    Position2D m_location;	

public:
    Monster(const std::string name_in, const Position2D &pos_in)
        : m_name(name_in), m_location(pos_in)
    {}

    void moveTo(const Position2D &pos_target)
    {
        m_location.set(pos_target);
    }

    friend std::ostream & operator << (std::ostream &out, const Monster &monster) 
    {
        out << monster.m_name << " " << monster.m_location;
        return out;
    }
};
```
* `Position2D m_location;` Composition ê´€ê³„. 
    * <span style="color:blue">**m_location**</span> ì´ **Monster** ì˜ ì¼ë¶€ì´ë‹¤.

___
<br>

#### ì‚¬ìš© ì˜ˆ
```cpp
// in main.cpp

#include "Monster.h"
using namespace std;

int main()
{
    Monster mon1("Sanson", Position2D(0, 0));
    cout << mon1 << endl;

    Monster mon2("Parsival", Position2D(0, 0));
    cout << mon2 << endl;

    //while (1)	// game loop
    {
        // event
        mon1.moveTo(Position2D(1, 1));
        cout << mon1 << endl;
        cout << mon2 << endl;
    }

    return 0;
}

// ì¶œë ¥
Sanson  0 0
Parsival  0 0
Sanson  1 1
Parsival  0 0
```
* `while (1) {~}` game loop. í•´ë‹¹ ì˜ˆì œì—ì„œëŠ” ìƒëµí•œë‹¤.
* ìƒìœ„ í´ë˜ìŠ¤ì˜ ê°ì²´ê°€ ê°€ì§€ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ì˜ ê°ì²´ëŠ” ë‹¤ë¥¸ ê°ì²´ì™€ëŠ” ê³µìœ í•˜ì§€ ì•ŠëŠ”ë‹¤.
* ìª¼ê°œì§„ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
    * ì„œë¸Œí´ë˜ìŠ¤ Position2D ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ Monster ì˜ Position2D í´ë˜ìŠ¤ m_location ì€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ì“¸ ì¼ë„ ì—†ê³  ì“¸ í•„ìš”ë„ ì—†ë‹¤.
    * mon1 ì´ ì—†ì–´ì§€ë©´ mon1.m_location ë„ ì—†ì–´ì§„ë‹¤.
* ìƒìœ„ í´ë˜ìŠ¤ì™€ ì‚¬ìš©í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ë¶„ë¦¬ì‹œí‚¤ê³  ê°€ì ¸ë‹¤ ì“°ëŠ” í´ë˜ìŠ¤ë¡œ ë­˜ í• ì§€ë§Œ ì•Œê³  ì–´ë–»ê²Œ í•˜ëŠ”ì§€ëŠ” ëª¨ë¥¼ìˆ˜ë¡ ë” ì¢‹ë‹¤. 
    * ì™„ë²½í•œ ê¸°ëŠ¥ì˜ ë¶„ë¦¬
    * ê°€ê¸‰ì  ë¹¨ë¦¬ ê¸°ëŠ¥ì„ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ìª¼ê°œì.
    

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}