---
title: "C++ Chapter7_2 ì£¼ì†Œì— ì˜í•œ ì¸ìˆ˜ ì „ë‹¬ Passing Arguments by Address (Call by Address), ë‹¤ì–‘í•œ ë°˜í™˜ ê°’ë“¤ Returning Values"
excerpt: "ì£¼ì†Œì— ì˜í•œ ì¸ìˆ˜ ì „ë‹¬(Call by Address), ë‹¤ì–‘í•œ ë°˜í™˜ ê°’ë“¤"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-09-02
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨ğŸ‘€"
---

<pre>ë³¸ í•„ê¸°ëŠ” ì¸í”„ëŸ°ì˜ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ì¸ <b>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” C++</b> ë¥¼ ë“£ê³  ì‘ì„±í•©ë‹ˆë‹¤.</pre>{: .notice--success}

### ì£¼ì†Œì— ì˜í•œ ì¸ìˆ˜ ì „ë‹¬ Passing Arguments by Address (Call by Address)
```cpp
typedef int* pint;
//void foo(pint ptr)    // ì•„ë˜ì™€ ë™ì¼í•˜ë‹¤.  

void foo(int *ptr)      // í¬ì¸í„° ë³€ìˆ˜ë„ ë³€ìˆ˜ì´ë¯€ë¡œ call by value ì™€ ê°™ì´ ìƒˆë¡œìš´ í¬ì¸í„° ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.
{
    cout << *ptr << " " << ptr << " " << &ptr << endl;
}

int main()
{
    int value = 5;
    cout << value << " " << &value << endl;
    int *ptr = &value;
    cout << &ptr << endl;

    foo(ptr);
    foo(&value);
    ...
}

// ì¶œë ¥
5 008FFED4
008FFEC8
5 008FFED4 008FFDF4
5 008FFED4 008FFDF4
```
main ì—ì„œ ptr ì˜ ì£¼ì†Œì™€ foo í•¨ìˆ˜ì—ì„œì˜ ptr ì˜ ì£¼ì†Œê°€ ë‹¤ë¥´ë‹¤.    
ì¦‰, call by value ì²˜ëŸ¼ í•¨ìˆ˜ë‚´ì—ì„œ ìƒˆë¡œìš´ í¬ì¸í„° ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ main ì—ì„œ ë„˜ê²¨ì¤€ ì¸ìë¥¼ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

<pre>info notice :
foo(5); ë¦¬í„°ëŸ´ì´ë¯€ë¡œ ì£¼ì†Œê°€ ì—†ì–´ì„œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ë‹¤.
const íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•´ë„ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</pre>{: .notice--warning}

#### ë ˆí¼ëŸ°ìŠ¤ì²˜ëŸ¼ í¬ì¸í„°ë¥¼ ì´ìš©í•´ì„œ ì¶œë ¥ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°
```cpp
void foo(double degrees, double *sin_out, double *cos_out)
{
    *sin_out = 1.0;
    *cos_out = 2.0;
}

int main()
{
    double degrees = 30;
    double sin, cos;

    foo(degrees, &sin, &cos);   // ë ˆí¼ëŸ°ìŠ¤ì™€ëŠ” ë‹¬ë¦¬ & ë¥¼ ë¶™ì—¬ ì£¼ì†Œë¥¼ ì „ë‹¬í•´ì•¼í•œë‹¤.

    cout << sin << " " << cos << endl;
    ...
}
```

<pre>info notice :
arr[0] ê³¼ ê°™ì´ ë°°ì—´ì˜ ì›ì†Œì— ì ‘ê·¼í•˜ëŠ” ê²ƒë„ de-reference ì´ë‹¤.
void foo(const int *ptr) ì¼ë•Œ *ptr ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ ptr ì˜ ì£¼ì†ŒëŠ” ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
void foo(const int *const ptr) ë¡œ ì“°ë©´ ì£¼ì†Œì˜ ë³€ê²½ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</pre>{: .notice--warning}

<br>

### ë‹¤ì–‘í•œ ë°˜í™˜ ê°’ë“¤ Returning Values
ê°’, ì°¸ì¡°, ì£¼ì†Œ, êµ¬ì¡°ì²´, íŠœí”Œ Tuple

#### return by address
```cpp
int* getValue(int x)
{
    int value = x * 2;
    return &value;
}
```
```cpp
int value = *getValue(3);	
```
ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.    
ì‚¬ë¼ì§ˆ ë³€ìˆ˜ì¸ getValue ì˜ value ì˜ de-reference ê°’ì´ë¯€ë¡œ ì•ˆì „í•˜ì§€ì•Šë‹¤.

```cpp
cout << value << endl;	
```
ê°’ì€ ì˜¬ë°”ë¥´ê²Œ ë‚˜ì˜¤ì§€ë§Œ ê²½ê³ ê°€ ë°œìƒí•œë‹¤.    
`warning C4172: returning address of local variable or temporary: value`

```cpp
int *value = getValue(3);
cout << *value << endl;
```
ë³€ìˆ˜ê°€ ì‚¬ë¼ì§„ ë©”ëª¨ë¦¬ë§Œ ê°€ì§€ê³  ìˆëŠ” ê²½ìš°ì´ê¸° ë•Œë¬¸ì— ìœ„ì˜ ì˜ˆì‹œë³´ë‹¤ ë” ìœ„í—˜í•˜ë‹¤.    
ìœ„ì™€ ë™ì¼í•œ ê²½ê³  ë°œìƒí•œë‹¤.     

#### factory pattern
```cpp
int *allocateMemory(int size)
{
    return new int[size];	
}

int main()
{
    int *array = allocateMemory(1024);	
    delete[] array;	
    ...
}	
```
ìœ„í—˜ì„±ì´ ìˆë‹¤.    
í•¨ìˆ˜ ë‚´ì—ì„œ new ë¥¼ í•˜ê¸° ë•Œë¬¸ì— delete ì„ í•  ìœ„ì¹˜ê°€ ëª…í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

#### return by reference
```cpp
int& getValue(int x)	
{
    int value = x * 2;
    return value;
}
```
```cpp
int value = getValue(5);    
```
ë°˜í™˜ëœ ë ˆí¼ëŸ°ìŠ¤ì˜ ê°’ì„ ë³µì‚¬í•´ valueë¥¼ ì´ˆê¸°í™”í•œë‹¤.    
ë¬¸ì œì—†ë‹¤.

```cpp
int &value = getValue(5);   
```
ë°˜í™˜ëœ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë ˆí¼ëŸ°ìŠ¤ë¡œ ë°›ê¸°ë•Œë¬¸ì— getValue ì˜ value ì™€ ë™ì¼í•œ ì£¼ì†Œë¥¼ ê°–ê²Œëœë‹¤.    
í•˜ì§€ë§Œ getValue ì˜ value ëŠ” ì‚¬ë¼ì§„ ë³€ìˆ˜ì´ë¯€ë¡œ ì•ˆì „í•˜ì§€ ì•Šë‹¤.    
`warning C4172: returning address of local variable or temporary: value`

```cpp
int &value = getValue(5);
cout << value << endl;	
cout << value << endl;	

// ì¶œë ¥
10
14423241
```
ì²˜ìŒ ì¶œë ¥í•  ë•ŒëŠ” getValue ì—ì„œ ë¦¬í„´í•˜ëŠ” ë™ì•ˆ value ì˜ ë©”ëª¨ë¦¬ë¥¼ ì¡ì•„ë†”ì„œ ì˜¬ë°”ë¥¸ ê°’ì´ ë‚˜ì˜¤ì§€ë§Œ ë‹¤ìŒ ì¶œë ¥ì—ì„œëŠ” ì¡ì•„ë’€ë˜ ë©”ëª¨ë¦¬ë¥¼ os ì— ë°˜ë‚©í•˜ê¸° ë•Œë¬¸ì— garbage ê°’ì´ ë‚˜ì˜¨ë‹¤.

##### return by reference ì˜ ìœ ìš©í•œ ì‚¬ìš© ì˜ˆ
```cpp
int& get(std::array<int, 100> &my_array, int ix)
{
    return my_array[ix];
}

int main()
{
    array<int, 100> my_array;   // #include <array>
    my_array[30] = 10;			

    get(my_array, 30) = 1024;
    cout << my_array[30] << endl;
    ...
}

// ì¶œë ¥
1024
```
ë©”ëª¨ë¦¬ê°€ ì¡í˜€ìˆëŠ” array ë¥¼ ì¸ìë¡œ ë„˜ê²¼ê³  ê·¸ array ë¥¼ ë°˜í™˜í–ˆê¸° ë•Œë¬¸ì— ë¬¸ì œì—†ë‹¤.    
ì´ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

#### return by struct
```cpp
struct S
{
    int a, b, c, d;
};

S getStruct()
{
    S my_s{ 1,2,3,4 };
    return my_s;
}

int main()
{
    S my_s = getStruct();	
    cout << my_s.a << " " << my_s.b << " " << my_s.c << " " << my_s.d << endl;
    ...
}

// ì¶œë ¥
1 2 3 4
```
êµ¬ì¡°ì²´ì˜ ë©¤ë²„ ëª¨ë‘ë¥¼ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.    
ë‹¨ì ìœ¼ë¡œëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ í•¨ìˆ˜ì˜ ë°˜í™˜ì„ ìœ„í•œ êµ¬ì¡°ì²´ë¥¼ ìƒì„±í•´ì•¼í•˜ëŠ” ì ì´ë‹¤.    
ë˜í•œ í•¨ìˆ˜ì—ì„œ ë§Œë“  êµ¬ì¡°ì²´ë¥¼ ë³µì‚¬í•œ êµ¬ì¡°ì²´ë¥¼ main ì—ì„œ ëŒ€ì…í•œë‹¤.

#### return by tuple
```cpp
std::tuple<int, double> getTuple()
{
    int a = 10;
    double d = 3.14;
    return std::make_tuple(a, d);
}

int main()
{   
    std::tuple<int, double> my_tp = getTuple(); // #include <tuple>
    cout << std::get<0>(my_tp) << endl;		// a
    cout << std::get<1>(my_tp) << endl;		// b

    auto [a, d] = getTuple();	// c++17 ì—ì„œ ì¶”ê°€ëœ ë‚´ìš©.
    cout << a << endl;
    cout << d << endl;
    ...
}

// ì¶œë ¥
10
3.14
10
3.14
```
íŠœí”Œì„ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•œë‹¤.    
íŠœí”Œì„ ë§Œë“¤ ë•Œ make_tuple ì„ ì‚¬ìš©í•œë‹¤.    

<pre>ë³¸ ë¸”ë¡œê·¸ëŠ” ê°œì¸ ê³µë¶€ ê¸°ë¡ì˜ ëª©ì ì„ ê°€ì§‘ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì€ ì–¸ì œë“ ì§€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.</pre>{: .notice--info}