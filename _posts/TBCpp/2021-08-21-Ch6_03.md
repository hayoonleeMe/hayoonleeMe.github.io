---
title: "C++ Chapter6_3 ν¬μΈν„° Pointer μ κΈ°λ³Έμ μΈ μ‚¬μ©λ²•, λ„ ν¬μΈν„° Null Pointer"
excerpt: "ν¬μΈν„° Pointer μ κΈ°λ³Έμ μΈ μ‚¬μ©λ²•, λ„ ν¬μΈν„° Null Pointer"
categories:
  - Cpp
tags:
  - Cpp
last_modified_at: 2021-08-21
toc: true
toc_sticky: true
toc_label: "λ©μ°¨π‘€"
---

<pre>λ³Έ ν•„κΈ°λ” μΈν”„λ°μ ν™μ •λ¨ κµμλ‹μ κ°•μμΈ <b>ν™μ •λ¨μ λ”°λΌν•λ©° λ°°μ°λ” C++</b> λ¥Ό λ“£κ³  μ‘μ„±ν•©λ‹λ‹¤.</pre>{: .notice--success}

### ν¬μΈν„° Pointer μ κΈ°λ³Έμ μΈ μ‚¬μ©λ²•
ν° λ©”λ¨λ¦¬μ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„° μ¤‘μ—μ„ μΌλ¶€λ¶„μ„ CPUκ°€ μ‚¬μ©ν•κΈ° μ„ν•μ—¬ λ©”λ¨λ¦¬λ΅λ¶€ν„° κ°€μ Έμ¬ λ•λ” λ©”λ¨λ¦¬ μ „μ²΄λ¥Ό λ¨λ‘ λ’¤μ§€λ©΄μ„ μ°Ύλ” κ²ƒμ΄ μ•„λ‹λΌ ν•„μ”ν• λ°μ΄ν„°κ°€ μ €μ¥λμ–΄ μλ” **μ£Όμ†**λ¥Ό μ‚¬μ©ν•μ—¬
μ§μ ‘ μ ‘κ·Όν•μ—¬ κ°€μ Έμµλ‹λ‹¤.

```cpp
int x = 5;

cout << x << endl;
cout << &x << endl;         // & : address-of operator	, 16μ§„μ
cout << (int)&x << endl;    // 10μ§„μλ΅ μΊμ¤ν…

// μ¶λ ¥
5
0073FC70
7601264
```

```cpp
cout << *(&x) << endl;		
// μ¶λ ¥
5
```
de-reference operator (*) : (&x) λΌλ” λ©”λ¨λ¦¬ μ£Όμ†μ— μ ‘κ·Όν•μ—¬ κ·Έ μ£Όμ† μ•μ κ°’μ„ κ°€μ Έμ΄.    
<pre>info notice :
de-reference λ” ν¬μΈν„°κ°€ "μ €μ½ μ£Όμ†μ— κ°€λ©΄ μ΄ λ°μ΄ν„°κ°€ μμ–΄μ”" λΌκ³  κ°„μ ‘μ μΌλ΅ κ°€λ¦¬ν‚¤κΈ°λ§ ν•λ” κ²ƒμ— λ€ν•΄μ„, 
"κ·ΈλΌ κ±°κΈ°μ— μ§„μ§ λ­κ°€ μλ”μ§€ λ‚΄κ°€ λ“¤μ—¬λ‹¤ λ³Όκ²" λΌλ©° μ§μ ‘μ μΌλ΅ μ ‘κ·Όν•κ² λ‹¤λ” μλ―Έμ΄λ‹¤.</pre>{: .notice--warning}

```cpp
int x = 5;
double d = 123.0;

int *ptr_x = &x;	
double * ptr_d = &d;
/*typedef int* pint;    // ν¬μΈν„°λ¥Ό λ‹¤λ¥΄κ² μ„ μ–Έν•λ” λ°©λ²•.
pint ptr_x = &x, ptr_y = &x;*/

cout << ptr_x << endl;
cout << *ptr_x << endl;

cout << ptr_d << endl;
cout << *ptr_d << endl;

// μ¶λ ¥
012FF930
5
012FF920
123
```
μ‹λ³„μ„ νΈν•κ² ν•κΈ° μ„ν•΄μ„ * μ μ•, λ’¤λ¥Ό λ„μ°κ±°λ‚ * λ¥Ό λ³€μ μ•μ— λ¶™μΈλ‹¤.     
μ—°λ‹¬μ•„ μ„ μ–Έν• λ•μ—λ„ * λ¥Ό λ¶™μΈλ‹¤.
int *ptr μ—μ„ int λ” ν¬μΈν„°(μ£Όμ†)μ νƒ€μ…μ΄ μ•„λ‹, ν¬μΈν„°λ¥Ό de-reference ν• κ°’μ΄ int λΌλ” κ²ƒμ΄λ‹¤.

<pre>info notice :
ν¬μΈν„°μ κ°’μ„ νΉμ • μ£Όμ†κ°’μΌλ΅ μ§€μ •ν•  μλ” μ—†λ‹¤. (μ§μ ‘μ μΌλ΅λ” λ¶κ°€ν•κ³  μ°νν•΄μ„ μ“Έ μλ” μλ‹¤.)
μ§€μ •ν•λ” λ°©μ‹μ€ ν•΄ν‚Ήμ—μ„ μ“°μΈλ‹¤. ex) double *ptr_d = 0x004FFDA8;
</pre>{: .notice--warning}

```cpp
cout << typeid(ptr_x).name() << endl;

cout << sizeof(x) << endl;
cout << sizeof(d) << endl;
cout << sizeof(&x) << " " << sizeof(ptr_x) << endl;
cout << sizeof(&d) << " " << sizeof(ptr_d) << endl;	

// μ¶λ ¥
int *
4
8
4 4
4 4
```
μ£Όμ†μ™€ μ£Όμ† μμ²΄λ¥Ό μ €μ¥ν•λ” λ³€μ(ν¬μΈν„°)μ ν¬κΈ°λ” κ³ μ •μ΄λ‹¤.    
x86μ—μ„λ” 4λ°”μ΄νΈμ΄κ³  x64μ—μ„λ” 8λ°”μ΄νΈμ΄λ΅ x64μ—μ„μ μ£Όμ†κ°€ λ” κΈΈλ‹¤.

```cpp
struct Something
{
    int a, b, c, d;	// 4 x 4 = 16 bytes
};

int main()
{
    Something ss;
    Something *ptr_s;

    cout << sizeof(Something) << endl;
    cout << sizeof(ptr_s) << endl;
    ...
}

// μ¶λ ¥
16
4
```
μ„μ—μ„ λ§ν–λ“―μ΄ ν¬μΈν„°μ ν¬κΈ°λ” κ³ μ •μ΄λ‹¤.

```cpp
int x = 5;

int *ptr_x;

cout << *ptr_x << endl;	
```
ν¬μΈν„°κ°€ μ΄κΈ°ν™”κ°€ μ•λκΈ° λ•λ¬Έμ— μ‹¤μ  λ©”λ¨λ¦¬μ— μλ” μ£Όμ†κ°€ μ•„λ‹λ―€λ΅ μ¤λ¥κ°€ λ°μƒν•λ‹¤.	    
κµ‰μ¥ν μ¦μ€ μ¤λ¥μ΄λ―€λ΅ μ£Όμν•΄μ•Ό ν•λ‹¤.

<pre>info notice : 
λ°°μ—΄μ„ ν•¨μμ μΈμλ΅ λ„κ²¨μ¤„ λ• λ°°μ—΄ κ·Έ μμ²΄λ¥Ό λ„κ²¨μ£Όκ² λλ©΄ λ°°μ—΄μ λ¨λ“  μ›μ†λ¥Ό λ³µμ‚¬ν•κΈ° λ•λ¬Έμ— 
λ°°μ—΄μ ν¬κΈ°κ°€ μ»¤μ§μλ΅ κ·Έλ§νΌ λ©”λ¨λ¦¬ λ‚­λΉ„κ°€ μ‹¬ν•΄μ§€κΈ° λ•λ¬Έμ— λ°°μ—΄ λ€μ‹  ν¬μΈν„°λ΅ λ°›κ² λλ‹¤.    
λ°°μ—΄μ€ μ›μ†λ“¤μ„ λ©”λ¨λ¦¬μ— μμ°¨μ μΌλ΅ μ €μ¥μ‹ν‚¤κΈ° λ•λ¬Έμ— λ°°μ—΄μ μ²« μ£Όμ†λ§ μ•λ©΄ (ν¬μΈν„°λ΅ λ„κ²¨λ°›μΌλ©΄) λ‹¤λ¥Έ μ›μ†λ“¤μ— μ ‘κ·Όν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.</pre>{: .notice--warning}


### λ„ ν¬μΈν„° Null Pointer
```cpp
void doSomething(double	*ptr)
{
    std::cout << "address of pointer variable in doSomething() " << &ptr << std::endl;
    // ν¬μΈν„°λ¥Ό λ„κ²¨λ°›μ•„μ„ λ³µμ‚¬ν•κΈ° λ•λ¬Έμ— ν¬μΈν„°μ μ£Όμ†κ°’μ΄ λ‹¤λ¥΄λ‹¤.
    // λ‹¨, ν¬μΈν„°μ κ°’μΈ μ£Όμ†λ” λ™μΌν•λ‹¤.

    if (ptr != nullptr)
    {
        // do something useful
        std::cout << *ptr << std::endl;
    }
    else
    {
        // do nothing with ptr
        std::cout << "Null ptr, do nothing" << std::endl;
    }
}

int main()
{
    double* ptr = nullptr;	// modern c++	// c-style : = 0; , = NULL;

    doSomething(ptr);
    doSomething(nullptr);
    ...
}

// μ¶λ ¥
address of pointer variable in doSomething() 010FF730
Null ptr, do nothing
address of pointer variable in doSomething() 010FF730
Null ptr, do nothing
```

```cpp
double d = 123.4;

doSomething(&d);

ptr = &d;

doSomething(ptr);

std::cout << "address of pointer variable in main() " << &ptr << std::endl;

// μ¶λ ¥
address of pointer variable in doSomething() 0113FC88
123.4
address of pointer variable in doSomething() 0113FC88
123.4
address of pointer variable in main() 0113FD78
```
ν•¨μλ΅ ν¬μΈν„°λ¥Ό λ„κΈΈ λ•λ” λ³„λ„μ ν¬μΈν„°μ— λ³µμ‚¬ν•΄μ„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— ν•¨μμ—μ„ λ°›μ€ ν¬μΈν„°μ™€ main μ—μ„μ ν¬μΈν„°μ μ£Όμ†κ°€ λ‹¤λ¥Έ κ²ƒμ„ λ³Ό μ μλ‹¤. (λ‹¤λ¥Έ ν¬μΈν„°)

```cpp
#include <cstddef>

std::nullptr_t nptr;	
```
nullptr λ§ μ“Έ μ μλ‹¤.     
κ°„νΉ nullptr λ§ λ°›μ•„μ•Ό ν•λ” νλΌλ―Έν„°κ°€ μμ„ μ μλ”λ°, κ·Έλ• μ‚¬μ©ν•λ‹¤.

<pre>λ³Έ λΈ”λ΅κ·Έλ” κ°μΈ κ³µλ¶€ κΈ°λ΅μ λ©μ μ„ κ°€μ§‘λ‹λ‹¤. ν¬μ¤νΈμ λ‚΄μ©μ€ μ–Έμ λ“ μ§€ λ°”λ€” μ μμµλ‹λ‹¤.</pre>{: .notice--info}